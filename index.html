<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="theme-color" content="#0B1120">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Soccer Cards · La Liga 25/26</title>
<link rel="manifest" href="./manifest.json">
<link rel="icon" type="image/svg+xml" href="./icon.svg">
<link rel="apple-touch-icon" href="./icon.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;500;700&family=Barlow+Condensed:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="./styles.css">
</head>
<body>

<!-- MENU -->
<div id="menu" class="screen active">
  <div class="menu-cards">
    <div class="menu-card"><div class="mc-inner">&#9917;</div></div>
    <div class="menu-card"><div class="mc-inner">&#11088;</div></div>
    <div class="menu-card"><div class="mc-inner">&#9917;</div></div>
  </div>
  <div class="logo">SOCCER<br>CARDS</div>
  <div class="logo-sub">La Liga 25/26</div>
  <div class="menu-btns">
    <button class="btn btn-primary" onclick="showScreen('difficulty')">Nueva Partida</button>
    <button class="btn btn-secondary" id="btn-continue" onclick="continueGame()">Continuar</button>
    <button class="btn btn-secondary" onclick="showScreen('rules')">Reglas</button>
    <button class="btn btn-secondary" onclick="showScreen('stats')">Estadisticas</button>
  </div>
  <div class="menu-footer">v1.0 &middot; 580 cartas &middot; 20 equipos reales</div>
  <div style="color:rgba(255,255,255,.3);font-size:13px;text-align:center;padding-bottom:12px">Created by Danuve</div>
</div>

<!-- DIFFICULTY -->
<div id="difficulty" class="screen hidden">
  <div class="diff-title">Dificultad</div>
  <div class="diff-cards">
    <div class="diff-card diff-easy" onclick="startGame('easy')">
      <h3>&#127811; Facil</h3>
      <p>El bot juega de forma basica. Ideal para aprender.</p>
    </div>
    <div class="diff-card diff-normal" onclick="startGame('normal')">
      <h3>&#9917; Normal</h3>
      <p>El bot busca combos y usa eventos con cabeza.</p>
    </div>
    <div class="diff-card diff-hard" onclick="startGame('hard')">
      <h3>&#128293; Dificil</h3>
      <p>El bot optimiza cada jugada. Solo para expertos.</p>
    </div>
  </div>
  <button class="btn btn-secondary" onclick="showScreen('menu')" style="margin-top:16px">Volver</button>
</div>

<!-- RULES -->
<div id="rules" class="screen hidden">
  <div class="rules-content">
    <div class="rules-back"><button class="btn btn-secondary" onclick="showScreen('menu')" style="width:120px;font-size:18px;padding:8px">Volver</button></div>
    <h2>Reglas del Juego</h2>
    <h3>Objetivo</h3>
    <p>Gana el partido! 2 tiempos de 10 bazas. Si hay empate: prorroga (3 bazas a x2) y penaltis.</p>
    <h3>Preparacion</h3>
    <p>Se reparten 6 cartas a cada jugador del mazo de 580 cartas.</p>
    <h3>Turno</h3>
    <p>Los turnos se alternan: juegas 1 carta, luego la CPU juega 1 carta. Puedes pasar en vez de jugar. La baza termina cuando ambos pasan consecutivamente.</p>
    <h3>Restriccion de Equipo</h3>
    <p>Una vez juegas una carta de equipo, solo puedes jugar mas cartas de ese mismo equipo + eventos. Escudo y Entrenador requieren al menos un jugador de su equipo ya en tu jugada.</p>
    <h3>Combos de Equipo</h3>
    <ul>
      <li>Juega varias cartas del MISMO equipo: sus valores se suman</li>
      <li>Incluye el ESCUDO del equipo: puntuacion total x2</li>
      <li>Incluye el ENTRENADOR: elimina una carta rival de la baza</li>
    </ul>
    <h3>Cartas Especiales</h3>
    <ul>
      <li><b>Escudo</b> &#128737; - Duplica puntuacion del combo de su equipo</li>
      <li><b>Entrenador</b> &#128203; - Elimina la mejor carta rival de la baza</li>
      <li><b>Leyenda</b> &#11088; - Jugador historico con alto valor</li>
    </ul>
    <h3>Cartas de Evento</h3>
    <p>Los eventos se resuelven <b>inmediatamente</b> al jugar la carta, no al final de la baza. El timing importa!</p>
    <ul>
      <li><b>Cambio de campo</b> &#128260; - Intercambia manos con el rival al instante</li>
      <li><b>Robo de balon</b> &#128400; - Roba 1 carta aleatoria del rival al instante</li>
      <li><b>Tarjeta amarilla</b> &#129000; - Rival pierde 15 puntos en la baza</li>
      <li><b>Tarjeta roja</b> &#129001; - -30% puntuacion rival actual (max -40 pts)</li>
      <li><b>Charla del descanso</b> &#128172; - +5 puntos por cada jugador ya en tu jugada</li>
      <li><b>VAR</b> &#128250; - Anula la &uacute;ltima carta jugada por el rival (la devuelve a su mano)</li>
    </ul>
    <h3>Habilidades de Equipo</h3>
    <p>Juega <b>3 o mas jugadores</b> del mismo equipo para activar su habilidad pasiva unica:</p>
    <ul style="font-size:13px">
      <li><b>Real Madrid</b> &mdash; Gal&aacute;cticos: +15 pts extra al combo</li>
      <li><b>FC Barcelona</b> &mdash; Tiki-Taka: Roba 1 carta extra del mazo</li>
      <li><b>Atl&eacute;tico de Madrid</b> &mdash; Cholismo: Rival no puede usar eventos esta baza</li>
      <li><b>Athletic Club</b> &mdash; Garra: +5 pts por cada jugador en el combo</li>
      <li><b>Real Betis</b> &mdash; Ingenio: Recupera 1 carta del descarte</li>
      <li><b>Real Sociedad</b> &mdash; Txuri-urdin: +10 pts si juegas leyenda en combo</li>
      <li><b>Villarreal CF</b> &mdash; Submarino: Protege del efecto del entrenador rival</li>
      <li><b>Girona FC</b> &mdash; Resiliencia: +20 pts si vas perdiendo en score</li>
      <li><b>Sevilla FC</b> &mdash; Nervi&oacute;n: -10 pts al rival por cada evento que juegues</li>
      <li><b>RC Celta</b> &mdash; Celeste: +8 pts por carta de evento en tu jugada</li>
      <li><b>CA Osasuna</b> &mdash; Rojillo: +3 pts por cada carta jugada (incluye eventos)</li>
      <li><b>RCD Mallorca</b> &mdash; Bermellones: Duplica el bonus de victoria (+2 en vez de +1)</li>
      <li><b>Rayo Vallecano</b> &mdash; Rayo: +12 pts si juegas exactamente 3 cartas</li>
      <li><b>Getafe CF</b> &mdash; Azul&oacute;n: Entrenador elimina las 2 mejores cartas rivales</li>
      <li><b>Deportivo Alav&eacute;s</b> &mdash; Babazorro: +6 pts por jugador con rating &lt;78</li>
      <li><b>RCD Espanyol</b> &mdash; Pericos: Escudo protege de eventos rivales adem&aacute;s de x2</li>
      <li><b>Real Valladolid</b> &mdash; Pucela: +25 pts si solo juegas 1 jugador (apuesta solitaria)</li>
      <li><b>UD Las Palmas</b> &mdash; Canarios: Ves 1 carta de la mano rival antes de jugar</li>
      <li><b>CD Legan&eacute;s</b> &mdash; Pepineros: +10 pts si el rival jug&oacute; m&aacute;s cartas que t&uacute;</li>
      <li><b>Valencia CF</b> &mdash; Che: +8 pts por cada tipo distinto de carta en tu jugada</li>
    </ul>
    <h3>Fin de Baza</h3>
    <p>Tras comparar, ambos roban hasta tener 6 cartas. Las cartas jugadas se descartan permanentemente.</p>
    <h3>Formaciones</h3>
    <p>Al inicio eliges formacion tactica:</p>
    <ul>
      <li><b>4-3-3</b> (Ataque) - +15% puntuacion en combos de 3+ jugadores</li>
      <li><b>4-4-2</b> (Equilibrio) - Empiezas con 7 cartas en vez de 6</li>
      <li><b>5-4-1</b> (Defensa) - Eventos rivales tienen 50% menos efecto</li>
      <li><b>3-5-2</b> (Control) - Ves 1 carta de la mano rival cada baza</li>
    </ul>
    <h3>Personalidades CPU</h3>
    <p>La CPU tiene personalidad propia cada partida: Conservador, Agresivo, Tramposo o Tactico. Cada uno juega de forma distinta.</p>
    <h3>Cambios al descanso</h3>
    <p>En el descanso, antes de la prorroga y antes de los penaltis, puedes <b>descartarte de hasta 5 cartas</b> y robar nuevas del mazo. La CPU tambien hace cambios automaticamente.</p>
    <h3>Formato Partido</h3>
    <ul>
      <li><b>1er Tiempo</b>: 10 bazas</li>
      <li><b>Descanso</b>: cambios + cambiar formacion</li>
      <li><b>2do Tiempo</b>: 10 bazas mas</li>
      <li><b>Prorroga</b>: si hay empate, cambios + 3 bazas extra</li>
      <li><b>Penaltis</b>: si sigue empate, cambios + 5 rondas de 1 carta cada uno</li>
    </ul>
    <h3>Mercado de Fichajes</h3>
    <p>Tras cada baza, en vez de robar a ciegas, eliges cartas de un mercado abierto. El <b>perdedor de la baza elige primero</b> como consolacion.</p>
    <h3>Puntuacion</h3>
    <p>Se suman los valores de las cartas jugadas. El ganador de cada baza recibe +1 gol.</p>
  </div>
</div>

<!-- STATS -->
<div id="stats" class="screen hidden">
  <div class="diff-title">Estadisticas</div>
  <div class="stat-grid">
    <div class="stat-box"><div class="sv" id="stat-wins">0</div><div class="sl">Victorias</div></div>
    <div class="stat-box"><div class="sv" id="stat-losses">0</div><div class="sl">Derrotas</div></div>
    <div class="stat-box"><div class="sv" id="stat-bazas">0</div><div class="sl">Bazas ganadas</div></div>
    <div class="stat-box"><div class="sv" id="stat-best">0%</div><div class="sl">Ratio victorias</div></div>
    <div class="stat-box"><div class="sv" id="stat-played">0</div><div class="sl">Partidas</div></div>
    <div class="stat-box"><div class="sv" id="stat-pts">0</div><div class="sl">Max puntos</div></div>
  </div>
  <button class="btn btn-secondary" onclick="showScreen('menu')" style="margin-top:20px">Volver</button>
  <button class="btn btn-secondary" onclick="resetStats()" style="margin-top:8px;font-size:16px;padding:8px;width:180px;color:var(--red)">Borrar estadisticas</button>
</div>

<!-- GAME -->
<div id="game" class="screen hidden">
  <div class="match-info-bar" id="match-info">
    <div class="info-side info-player-side">
      <span class="info-name">Tu</span>
      <span class="info-formation" id="info-p-formation"></span>
    </div>
    <div class="info-turn" id="info-turn"></div>
    <div class="info-side info-cpu-side">
      <span class="info-name">CPU</span>
      <span class="info-formation" id="info-c-formation"></span>
    </div>
  </div>
  <div class="scoreboard">
    <div class="score-player">
      <span class="score-label">Goles</span>
      <span class="score-value" id="sc-player">0</span>
    </div>
    <div class="score-center">
      <span class="score-period" id="sc-period">1T</span>
      <span class="score-bazas" id="sc-bazas"></span>
      <span class="score-streak" id="sc-streak"></span>
      <span class="deck-indicator" id="sc-deck">Mazo: 0</span>
    </div>
    <div class="score-cpu">
      <span class="score-label">Goles</span>
      <span class="score-value" id="sc-cpu">0</span>
    </div>
  </div>
  <div class="play-zone" id="play-zone">
    <div class="play-side" id="pz-player"><div class="play-label">Tu jugada</div><div class="play-cards" id="pzc-player"></div></div>
    <div class="play-vs">VS</div>
    <div class="play-side" id="pz-cpu"><div class="play-label">CPU</div><div class="play-cards" id="pzc-cpu"></div></div>
    <div class="play-result" id="play-result"></div>
  </div>
  <div class="player-hand-area">
    <div class="hand-scroll" id="player-hand"></div>
  </div>
  <div class="action-bar">
    <button class="btn btn-secondary" onclick="showGameMenu()" style="max-width:60px;font-size:16px">&#9776;</button>
    <button class="btn btn-primary btn-disabled" id="btn-play">Pasar</button>
  </div>
</div>

<!-- END GAME -->
<div id="endgame" class="screen hidden">
  <div class="end-result" id="end-title"></div>
  <div class="end-stats" id="end-stats"></div>
  <div class="menu-btns" style="margin-top:12px">
    <button class="btn btn-primary" onclick="showScreen('difficulty')">Revancha</button>
    <button class="btn btn-secondary" onclick="showScreen('menu')">Menu</button>
  </div>
</div>

<!-- OVERLAYS -->
<div class="overlay" id="coin-overlay">
  <div class="coin" id="coin-face">?</div>
  <div class="overlay-text" id="coin-text">Lanzando moneda...</div>
  <div class="overlay-sub" id="coin-sub"></div>
</div>

<div class="overlay" id="game-menu-overlay">
  <div class="diff-title" style="margin-bottom:12px">Pausa</div>
  <button class="btn btn-primary" onclick="hideGameMenu()" style="margin-bottom:8px">Continuar</button>
  <button class="btn btn-secondary" onclick="saveAndQuit()">Guardar y salir</button>
</div>

<div class="discard-overlay" id="discard-overlay">
  <div class="discard-title">Descarta <span id="discard-count">0</span> carta(s)</div>
  <div class="discard-hand" id="discard-hand"></div>
  <button class="btn btn-primary btn-disabled" id="btn-discard" onclick="confirmDiscard()">Confirmar</button>
</div>

<div class="discard-overlay" id="draft-overlay">
  <div class="draft-section draft-market">
    <div class="draft-title">Mercado de Fichajes</div>
    <div class="draft-sub">Elige <span id="draft-count">0</span> cartas · Quedan: <span id="draft-remaining">0</span></div>
    <div class="draft-hand" id="draft-hand"></div>
    <button class="btn btn-primary btn-disabled" id="btn-draft" onclick="confirmDraft()">Fichar</button>
  </div>
  <div class="hand-preview">
    <div class="hand-preview-label">Tu mano actual</div>
    <div class="hand-preview-cards" id="draft-current-hand"></div>
  </div>
</div>

<div class="overlay" id="halftime-overlay">
  <div class="ht-title">Descanso</div>
  <div class="ht-score" id="ht-score">0 - 0</div>
  <div class="ht-formation" id="ht-formation"></div>
  <div class="ht-label">Cambiar formacion?</div>
  <div class="formation-grid ht-grid">
    <div class="formation-card" data-formation="433">
      <div class="formation-name">4-3-3</div>
      <div class="formation-desc">+15% combos 3+</div>
    </div>
    <div class="formation-card" data-formation="442">
      <div class="formation-name">4-4-2</div>
      <div class="formation-desc">7 cartas</div>
    </div>
    <div class="formation-card" data-formation="541">
      <div class="formation-name">5-4-1</div>
      <div class="formation-desc">Eventos -50%</div>
    </div>
    <div class="formation-card" data-formation="352">
      <div class="formation-name">3-5-2</div>
      <div class="formation-desc">Ver rival</div>
    </div>
  </div>
  <button class="btn btn-primary" id="btn-ht-keep" style="margin-top:8px;width:220px">Mantener formacion</button>
  <div class="hand-preview" style="margin-top:10px">
    <div class="hand-preview-label">Tu mano actual</div>
    <div class="hand-preview-cards" id="ht-current-hand"></div>
  </div>
</div>

<div class="discard-overlay" id="cambios-overlay">
  <div class="draft-section draft-market">
    <div class="draft-title">Cambios al descanso</div>
    <div class="draft-sub">Descarta hasta <span id="cambios-max">5</span> cartas para robar nuevas del mazo</div>
    <div class="draft-hand" id="cambios-hand"></div>
    <div class="cambios-info" id="cambios-info">Seleccionadas: 0</div>
    <div style="display:flex;gap:8px;margin-top:4px">
      <button class="btn btn-secondary" id="btn-cambios-skip" onclick="skipCambios()" style="width:140px">No cambiar</button>
      <button class="btn btn-primary" id="btn-cambios-confirm" onclick="confirmCambios()">Confirmar cambios</button>
    </div>
  </div>
  <div class="hand-preview" style="margin-top:10px">
    <div class="hand-preview-label">Tu mano actual</div>
    <div class="hand-preview-cards" id="cambios-current-hand"></div>
  </div>
</div>

<div class="overlay" id="event-overlay">
  <div class="overlay-text" id="event-text"></div>
  <div class="overlay-sub" id="event-sub"></div>
</div>

<div class="overlay" id="formation-overlay">
  <div class="overlay-text">Elige Formacion</div>
  <div class="overlay-sub">Tu tactica para esta partida</div>
  <div class="formation-grid">
    <div class="formation-card" data-formation="433">
      <div class="formation-icon" style="color:var(--red)">&#9876;&#65039;</div>
      <div class="formation-name">4-3-3</div>
      <div class="formation-label">Ataque</div>
      <div class="formation-desc">+15% puntuacion en combos de 3+ jugadores</div>
    </div>
    <div class="formation-card" data-formation="442">
      <div class="formation-icon" style="color:var(--gold)">&#9878;&#65039;</div>
      <div class="formation-name">4-4-2</div>
      <div class="formation-label">Equilibrio</div>
      <div class="formation-desc">Empiezas con 7 cartas en vez de 6</div>
    </div>
    <div class="formation-card" data-formation="541">
      <div class="formation-icon" style="color:var(--blue)">&#128737;&#65039;</div>
      <div class="formation-name">5-4-1</div>
      <div class="formation-label">Defensa</div>
      <div class="formation-desc">Eventos rivales -50% efecto</div>
    </div>
    <div class="formation-card" data-formation="352">
      <div class="formation-icon" style="color:var(--purple)">&#128065;&#65039;</div>
      <div class="formation-name">3-5-2</div>
      <div class="formation-label">Control</div>
      <div class="formation-desc">Ves 1 carta rival cada baza</div>
    </div>
  </div>
</div>


<script src="./data.js"></script>
<script src="./game.js"></script>
</body>
</html>
